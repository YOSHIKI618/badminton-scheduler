<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>選手管理</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <h1>選手管理</h1>
    <form action="{{ url_for('add_player') }}" method="post">
        <label for="name">名前:</label>
        <input type="text" id="name" name="name" required>
        <label for="gender">性別:</label>
        <select id="gender" name="gender" required>
            <option value="男">男</option>
            <option value="女">女</option>
        </select>
        <label for="year">学年:</label>
        <select id="year" name="year" required>
            <option value="1">1年生</option>
            <option value="2">2年生</option>
            <option value="3">3年生</option>
            <option value="4">4年生</option>
        </select>
        <label for="level">レベル:</label>
        <input type="number" id="level" name="level" min="1" max="10" required>
        <label for="active">参加:</label>
        <input type="checkbox" id="active" name="active">
        <button type="submit">追加</button>
    </form>
    <table>
        <thead>
            <tr>
                <th>名前</th>
                <th>性別</th>
                <th>学年</th>
                <th>レベル</th>
                <th>参加</th>
                <th>編集</th>
                <th>削除</th>
            </tr>
        </thead>
        <tbody>
            {% for player in players %}
            <tr>
                <td>{{ player['name'] }}</td>
                <td>{{ player['gender'] }}</td>
                <td>{{ player['year'] }}年生</td>
                <td>{{ player['level'] }}</td>
                <td>
                    <form action="{{ url_for('toggle_active', player_id=player['id']) }}" method="post">
                        <button type="submit">{{ '参加中' if player['active'] else '不参加' }}</button>
                    </form>
                </td>
                <td><a href="{{ url_for('edit_player', player_id=player['id']) }}">編集</a></td>
                <td><a href="{{ url_for('delete_player', player_id=player['id']) }}">削除</a></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <a href="{{ url_for('index') }}">戻る</a>
</body>
</html>
